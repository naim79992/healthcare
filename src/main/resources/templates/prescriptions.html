<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Prescriptions</title>
</head>
<body>
<h2>Prescriptions</h2>

<form method="get" action="/prescriptions">
  Start: <input type="date" name="start" th:value="${start}"/>
  End: <input type="date" name="end" th:value="${end}"/>
  <button type="submit">Filter</button>
  <a href="/prescription/new">New Prescription</a>
  <a href="/report/daily">Daily Report</a>
  <a href="/external">RxNav Interactions</a>
  <a href="/logout">Logout</a>
</form>

<table border="1" cellpadding="5">
  <thead>
    <tr>
      <th>Date</th><th>Patient</th><th>Age</th><th>Gender</th><th>Diagnosis</th><th>Medicines</th><th>Next Visit</th><th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr th:each="p : ${prescriptions}">
      <td th:text="${p.prescriptionDate}">date</td>
      <td th:text="${p.patientName}">name</td>
      <td th:text="${p.patientAge}">age</td>
      <td th:text="${p.patientGender}">gender</td>
      <td th:text="${p.diagnosis}">diag</td>
      <td th:text="${p.medicines}">med</td>
      <td th:text="${p.nextVisitDate}">next</td>
      <td>
        <a th:href="@{'/prescription/edit/' + ${p.id}}">Edit</a>
        <a th:href="@{'/prescription/delete/' + ${p.id}}">Delete</a>
      </td>
    </tr>
  </tbody>
</table>
</body>
</html>
